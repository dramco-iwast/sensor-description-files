---

name: "Environment Sensor"

parse-payload: !!js/function >
  function parsePayload(value){
    error("Not Implemented yet");
  }

info:
  nl: |-
    Deze sensor bevat vier verschillende functionaliteiten.
    Het kan de temperatuur, druk, Luchtkwaliteit en vochtigheid opmeten.
  en: |-
    This sensor has four functionalities.
    It can measure the temperature, air quality, pressure en humidity.

sensor-metric:
  - id: 1
    unit: "°C"
    quantity:
      nl: "Temperatuur"
      en: "Temperature"
    info:
      nl: "Meet de temperatuur in °C."
      en: "Measure the temperature in °C."
    size: 2  # in bytes
    type: "uint16"
    precision: 2  # number of decimals after comma
    convert-to-machine: !!js/function >
            function toMachine(value) {
            return value + 273.15 ;
            }
    convert-to-human: !!js/function >
            function toHuman(value) {
            return value - 273.15;
            }
    config:
      - threshold: true
        threshold-max: 58
        threshold-min: -40
        minimum-polling-interval: 10
        minimum-polling-interval-unit: min
  - id: 2
    unit: "hPa"
    quantity: "Pressure"
    size: 2  # in bytes
    type: "uint16"
    precision: 0  # number of decimals after comma
    convert-to-machine: !!js/function > #  TODO
          function toMachine(value) {
          return value;
          }
    convert-to-human: !!js/function > #  TODO
          function toHuman(value) {
          return value;
          }
    config:
      - threshold: true
        threshold-max: 1100
        threshold-min: 300
        minimum-polling-interval: 10
        minimum-polling-interval-unit: min
  - id: 3
    unit: "-"
    quantity:
      en: "Air Quality Indication"
      nl: "Luchtkwaliteitsindicatie"
    info:
      nl: |-
          Meet hoe vervuild de lucht rondom de module is.
          Kijk of er een risico is voor de gezondheid.
      en: |-
          Measure how polluted the air is.
          Evaluate if there are any health risks possible.
    size: 2  # in bytes
    type: "uint16"
    precision: 0  # number of decimals after comma
    convert-to-machine: !!js/function > #  TODO
          function toMachine(value) {
          return value;
          }
    convert-to-human: !!js/function > #  TODO
          function toHuman(value) {
          return value;
          }
    config:
      - threshold: true
        threshold-max: 500
        threshold-min: 0
        minimum-polling-interval: 10
        minimum-polling-interval-unit: min
  - id: 4
    unit: "%"
    quantity: "Humidity"
    size: 2  # in bytes
    type: "uint16"
    precision: 0  # number of decimals after comma
    convert-to-machine: !!js/function > #  TODO
          function toMachine(value) {
          return value;
          }
    convert-to-human: !!js/function > #  TODO
          function toHuman(value) {
          return value;
          }
    config:
      - threshold: true
        threshold-max: 100
        threshold-min: 0
        minimum-polling-interval: 10
        minimum-polling-interval-unit: min
